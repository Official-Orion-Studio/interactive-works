"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[372],{4344:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"core/components","title":"Components","description":"Interactive exposes a rich API when it comes to components, allowing developers to create their own behavior for instances. Components are also available to access lifecyles which are custom-made or by default (except onInit). A Component is useful to represent Instances instead of using them directly, being able to encapsulate behavior in a \\"container\\" makes it easier to add functionality or even to debug.","source":"@site/docs/core/components.md","sourceDirName":"core","slug":"/core/components","permalink":"/interactive-works/docs/core/components","draft":false,"unlisted":false,"editUrl":"https://github.com/Official-Orion-Studio/interactive-works/edit/main/docs/core/components.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"Singletons","permalink":"/interactive-works/docs/core/singletons"},"next":{"title":"Lifecycles","permalink":"/interactive-works/docs/core/lifecycles"}}');var s=t(4848),i=t(8453);const a={},c="Components",r={},l=[{value:"Declaring a component",id:"declaring-a-component",level:2},{value:"Configuration",id:"configuration",level:3},{value:"defaults",id:"defaults",level:4},{value:"instanceGuard",id:"instanceguard",level:4},{value:"ancestors",id:"ancestors",level:4},{value:"ignoreFlags",id:"ignoreflags",level:4},{value:"Constructed component",id:"constructed-component",level:3},{value:"instance",id:"instance",level:4},{value:"attributes",id:"attributes",level:4},{value:"onAttributeChanged",id:"onattributechanged",level:4}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"components",children:"Components"})}),"\n",(0,s.jsxs)(n.p,{children:["Interactive exposes a rich API when it comes to components, allowing developers to create their own behavior for instances. Components are also available to access lifecyles which are custom-made or by default (except ",(0,s.jsx)(n.code,{children:"onInit"}),'). A Component is useful to represent Instances instead of using them directly, being able to encapsulate behavior in a "container" makes it easier to add functionality or even to debug.']}),"\n",(0,s.jsx)(n.h2,{id:"declaring-a-component",children:"Declaring a component"}),"\n",(0,s.jsxs)(n.p,{children:["Components have a variety of useful fields which Singletons don't expose. But every single component requires to have at least a ",(0,s.jsx)(n.code,{children:"tag"}),", everything else is optional."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="src/server/components/component.luau"',children:'local framework = require(...)\n\nlocal component = {\n    tag = "MyTag",\n}\n\nfunction component:onStart(singletonsBag)\n    ...\nend\n\nfunction component:destroy()\n    ...\nend\n\nreturn framework.createComponent(component)\n'})}),"\n",(0,s.jsx)(n.p,{children:"This is the basic boilerplate required to construct a component. Components can also have a constructor where they define inner elements for it's functionality."}),"\n",(0,s.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Components have a vast majority of configuration, this is to open the possibility to either delimit, or expand the functionality of your Component."}),"\n",(0,s.jsx)(n.p,{children:"The next properties can be added to the initial Component."}),"\n",(0,s.jsx)(n.h4,{id:"defaults",children:"defaults"}),"\n",(0,s.jsx)(n.p,{children:"They describe default attributes for your Instance to have."}),"\n",(0,s.jsxs)(n.p,{children:["The next example demonstrates a component which will have an ",(0,s.jsx)(n.code,{children:"example"})," attribute of value ",(0,s.jsx)(n.code,{children:"Vector.zero"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"{\n    defaults = {\n        example = Vector3.zero,\n    },\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"instanceguard",children:"instanceGuard"}),"\n",(0,s.jsxs)(n.p,{children:["A function that takes the instance being added and ",(0,s.jsx)(n.strong,{children:"SHOULD"})," return a boolean. It should be used to verify the tree of your instance if you require so. For example, a ",(0,s.jsx)(n.code,{children:"character"})," component, the ",(0,s.jsx)(n.code,{children:"instanceGuard"})," could be useful to look into it and try to find a ",(0,s.jsx)(n.code,{children:"Humanoid"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The next example demonstrates a component which is only constructed when the instance is a ",(0,s.jsx)(n.code,{children:"Model"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'{\n    instanceGuard = function(instance: Instance)\n        return instance:IsA("Model")\n    end,\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"ancestors",children:"ancestors"}),"\n",(0,s.jsx)(n.p,{children:"An Instance list which is verified against to construct the component. If the Instance tagged isn't a descendant of ANY of the provided paths, it will throw."}),"\n",(0,s.jsxs)(n.p,{children:["The next example demonstrates a component which is only constructed when the Instance is a descendant of ",(0,s.jsx)(n.code,{children:"Workspace"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n    ancestors = { Workspace },\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"ignoreflags",children:"ignoreFlags"}),"\n",(0,s.jsxs)(n.p,{children:["A boolean which describes if the flags should be ignored. This applies to errors while constructing the Component, or ancestors issues, even ",(0,s.jsx)(n.code,{children:"instanceGuard"})," flags will be ignored."]}),"\n",(0,s.jsx)(n.admonition,{type:"danger",children:(0,s.jsx)(n.p,{children:"This property should be avoided, use only if necessary."})}),"\n",(0,s.jsx)(n.h3,{id:"constructed-component",children:"Constructed component"}),"\n",(0,s.jsx)(n.p,{children:"A constructed component is what you use within the object itself, and it exposes two properties and a lifecycle which is useful to manipulate the Instance."}),"\n",(0,s.jsx)(n.h4,{id:"instance",children:"instance"}),"\n",(0,s.jsx)(n.p,{children:"The Instance which was tagged can be accessed from here. It should be the only way of accessing such Instance."}),"\n",(0,s.jsx)(n.p,{children:"The next example prints the full name (path) of the Instance tagged."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-luau",children:"function <component>:onStart()\n    print(`I was tagged with {self.tag} and my path is {self.instance:GetFullName()}`)\nend\n"})}),"\n",(0,s.jsx)(n.h4,{id:"attributes",children:"attributes"}),"\n",(0,s.jsxs)(n.p,{children:["This is an object which can be accessed at any time, and it's updated through the Component's life. Accessing attributes from here is preferred over ",(0,s.jsx)(n.code,{children:"self.instance:GetAttribute()"}),", as the latter is inconvinient."]}),"\n",(0,s.jsx)(n.p,{children:"The next example prints all the attributes a component may have and also change an attribute!"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-luau",children:'function <component>:onStart()\n    print(self.attributes)\n\n    self.attributes.MyAttribute = "A value that is replicated!"\nend\n'})}),"\n",(0,s.jsx)(n.h4,{id:"onattributechanged",children:"onAttributeChanged"}),"\n",(0,s.jsx)(n.p,{children:"This lifecycle is only available to Components. It exposes which attribute and it's new value."}),"\n",(0,s.jsx)(n.p,{children:"The next example prints the changes on a component by its attributes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-luau",children:'function <component>:onAttributeChanged(attribute, value)\n    print(attribute .. " was changed. New value is: ", value)\nend\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var o=t(6540);const s={},i=o.createContext(s);function a(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);